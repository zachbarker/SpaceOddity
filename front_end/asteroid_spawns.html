<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script> 
</head>
<body>

    <script>
    var config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 200 }
            }
        },
        scene: {
            preload: preload,
            create: create,
            extend: {
                spawnAsteroids: spawnAsteroids,
                randomSpawnSmall: randomSpawnSmall,
                randomSpawnMedium: randomSpawnMedium,
                randomSpawnLarge: randomSpawnLarge
            }
        }
    };

    var game = new Phaser.Game(config);
    var logos;
    var emitter;
    var particles;
    var switchNum;
    var tempNum;

    var timer = scene.time.addEvent({
        delay: 500,                // ms
        callback: callback,
        //args: [],
        callbackScope: thisArg,
        repeat: 4
    });

    function preload ()
    {
       

       
    }

    function create ()
    {
        this.add.image(400, 300, 'sky');

        logos = this.physics.add.group();

        // adds an event every 1000ms to spawn a random asteroid.
        this.time.addEvent({ delay: 1000, callback: spawnAsteroids, callbackScope: this, loop: true });
  
    }

    function update() {
        
    }

    // utilizes three spawn functions to spawn
    // a random sized asteroids
    function spawnAsteroids() {

        var temp = (Math.floor((Math.random() * 3) + 1));

        if(temp == 1) {
            this.randomSpawnSmall();
        } else if(temp == 2) {
            this.randomSpawnMedium();
        } else {
            this.randomSpawnLarge();
        }
    }

    function randomNum(min, max) {
        return Math.random() * (max - min) + min;
    }

    // Medium asteroids
    function randomSpawnMedium(){

        // var tempNum = randomNum(0, 3);

        if(Math.floor((Math.random() * 4) + 1) == 1){

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(randomX, 600, 'logo');

                logo.displayWidth = 50;
                logo.displayHeight = 50;

                logo.setVelocity(randomNum(-100, 100), randomNum(-100, 0));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else if(Math.floor((Math.random() * 4) + 1) == 2) {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(0, randomY, 'logo');

                logo.displayWidth = 40;
                logo.displayHeight = 40;

                logo.setVelocity(randomNum(0, 100), randomNum(-100, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else if(Math.floor((Math.random() * 4) + 1) == 3) {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(randomX, 0, 'logo');

                logo.displayWidth = 40;
                logo.displayHeight = 40;

                logo.setVelocity(randomNum(-100, 100), randomNum(0, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });
                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(800, randomY, 'logo');

                logo.displayWidth = 40;
                logo.displayHeight = 40;

                logo.setVelocity(randomNum(-100, 0), randomNum(-100, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);
        }

    }


    // Small asteroids
    function randomSpawnSmall(){

        // var tempNum = randomNum(0, 3);

        if(Math.floor((Math.random() * 4) + 1) == 1){

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(randomX, 600, 'logo');

                logo.displayWidth = 20;
                logo.displayHeight = 20;

                logo.setVelocity(randomNum(-100, 100), randomNum(-100, 0));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else if(Math.floor((Math.random() * 4) + 1) == 2) {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(0, randomY, 'logo');

                logo.displayWidth = 20;
                logo.displayHeight = 20;
                
                logo.setVelocity(randomNum(0, 100), randomNum(-100, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else if(Math.floor((Math.random() * 4) + 1) == 3) {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(randomX, 0, 'logo');

                logo.displayWidth = 20;
                logo.displayHeight = 20;

                logo.setVelocity(randomNum(-100, 100), randomNum(0, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });
                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);
                var logo = logos.create(800, randomY, 'logo');

                logo.displayWidth = 20;
                logo.displayHeight = 20;

                logo.setVelocity(randomNum(-100, 0), randomNum(-100, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);
        }

    }


    // Large Asteroids
    function randomSpawnLarge(){

        // var tempNum = randomNum(0, 3);

        if(Math.floor((Math.random() * 4) + 1) == 1){

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(randomX, 600, 'logo');

                logo.displayWidth = 60;
                logo.displayHeight = 60;

                logo.setVelocity(randomNum(-100, 100), randomNum(-100, 0));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else if(Math.floor((Math.random() * 4) + 1) == 2) {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(0, randomY, 'logo');

                logo.displayWidth = 60;
                logo.displayHeight = 60;
                
                logo.setVelocity(randomNum(0, 100), randomNum(-100, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else if(Math.floor((Math.random() * 4) + 1) == 3) {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(randomX, 0, 'logo');

                logo.displayWidth = 60;
                logo.displayHeight = 60;

                logo.setVelocity(randomNum(-100, 100), randomNum(0, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });
                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);
                var logo = logos.create(800, randomY, 'logo');

                logo.displayWidth = 60;
                logo.displayHeight = 60;

                logo.setVelocity(randomNum(-100, 0), randomNum(-100, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);
        }
    }


    </script>

</body>
</html>