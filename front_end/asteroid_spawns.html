<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script> 
</head>
<body>

    <script>

    // No assets used at all, wasnt sure direction we wanted to go with
    // art and what not so just left in this matrix type display 
    // that just shows the spawning of the asteroids and their random
    // paths and speeds.
    
    var config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 200 }
            }
        },
        scene: {
            preload: preload,
            create: create
        }
    };

    var game = new Phaser.Game(config);
    var logos;
    var emitter;
    var particles;
    var switchNum;
    var tempNum;

    var timer = scene.time.addEvent({
        delay: 500,                // ms
        callback: callback,
        //args: [],
        callbackScope: thisArg,
        repeat: 4
    });

    function preload ()
    {

    }

    function create ()
    {
        this.add.image(400, 300, 'sky');

        logos = this.physics.add.group();

        this.time.addEvent({ delay: 1000, callback: randomSpawn, callbackScope: this, loop: true });
  
    }

    function update() {
        
    }

    function randomNum(min, max) {
        return Math.random() * (max - min) + min;
    }

    function randomSpawn(){

        // var tempNum = randomNum(0, 3);

        if(Math.floor((Math.random() * 4) + 1) == 1){

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(randomX, 600, 'logo');
                logo.setVelocity(randomNum(-100, 100), randomNum(-100, 0));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else if(Math.floor((Math.random() * 4) + 1) == 2) {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(0, randomY, 'logo');
                logo.setVelocity(randomNum(0, 100), randomNum(-100, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else if(Math.floor((Math.random() * 4) + 1) == 3) {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);

                var logo = logos.create(randomX, 0, 'logo');
                logo.setVelocity(randomNum(-100, 100), randomNum(0, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);

        } else {

                particles = this.add.particles('red');
                emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });
                randomX = randomNum(0, 800);
                randomY = randomNum(0, 600);
                var logo = logos.create(800, randomY, 'logo');
                logo.setVelocity(randomNum(-100, 0), randomNum(-100, 100));
                logo.body.setAllowGravity(false);       
                logo.setCollideWorldBounds(false);
                emitter.startFollow(logo);
        }

    }

    </script>

</body>
</html>